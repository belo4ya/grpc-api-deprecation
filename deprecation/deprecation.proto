syntax = "proto3";

package deprecation;

import "google/protobuf/descriptor.proto";

option go_package = "github.com/belo4ya/grpc-api-deprecation/deprecation";

extend google.protobuf.ServiceOptions {
  // Contains additional information about the planned deprecation of a service.
  // Used along with `option deprecated = true`.
  DeprecationDetails service_deprecation_details = 1194;
}

extend google.protobuf.MethodOptions {
  // Contains additional information about the planned deprecation of a method.
  // Used along with `option deprecated = true`.
  DeprecationDetails method_deprecation_details = 1194;
}

extend google.protobuf.MessageOptions {
  // Contains additional information about the planned deprecation of a message.
  // Used along with `option deprecated = true`.
  DeprecationDetails message_deprecation_details = 1194;
}

extend google.protobuf.FieldOptions {
  // Contains additional information about the planned deprecation of a field.
  // Used along with `[deprecated = true]`.
  DeprecationDetails field_deprecation_details = 1194;
}

extend google.protobuf.EnumValueOptions {
  // Contains additional information about the planned deprecation of enum value.
  // Used along with `[deprecated = true]`.
  DeprecationDetails enum_value_deprecation_details = 1194;
}

message DeprecationDetails {
  // The date when this method, service, message or field will stop working (format: YYYY-MM-DD).
  string effective_at = 1;

  // A description to help users understand the reason for deprecation and suggest alternatives.
  string description = 2;
}
